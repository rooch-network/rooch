---
title: RoochBTC - 用链上索引器实现比特币二层
description: "在这篇文章中，我想讨论构建更多功能的比特币应用程序的所有可能解决方案。此外，我们还将提出一种新的解决方案，利用链上索引器来构建集成 Ordinals 和 BRC20 等比特币资产的全链上应用程序。我们还将分享 Rooch 关于比特币先行网 RoochBTC 推出的一些最新动态。"
author: haichao
category: Web3
date: 2024/01/03
---

import PostHeader from "/components/blog/postHeader";

<PostHeader />

比特币铭文的公平性鼓励了相信去中心化未来的社区的有机发展。对于 Rooch 而言，我们的使命是，通过为这个社区提供更多的应用场景来加速这一进程。

在这篇文章中，我想讨论构建更多功能的比特币应用程序的所有可能解决方案。此外，我们还将提出一种新的解决方案，利用链上索引器来构建集成 Ordinals 和 BRC20 等比特币资产的全链上应用程序。我们还将分享 Rooch 关于比特币先行网 RoochBTC 推出的一些最新动态。

## 比特币 L2 解决方案

尽管铭文技术为比特币提供了推出新型加密资产的新途径，但比特币区块链网络本身在构建基于这些资产的应用程序方面存在局限性。根本原因是比特币脚本不支持描述复杂的逻辑，无法支持更复杂的应用场景。此外，比特币网络的交易成本也是用户使用直接使用比特币区块链构建的任何应用程序的一个很高的障碍。

为了解决这两个问题，我们已经看到一些先进的比特币 L2 解决方案被提出。这里我大致将其分为3类。

import Image from "next/image";

<Image
  src="/docs/rooch-btc-1.png"
  alt="rooch-btc-1"
  width={800}
  height={800}
  className="mx-auto my-8"
/>

### 闪电网络

比特币闪电网络是最早也是最广泛采用的比特币 L2 解决方案之一。该解决方案允许用户在两个参与者之间构建支付通道，让他们将资金锁定在比特币网络上，并不受任何限制地进行基于发票的链下交易。

闪电网络的优点是可以大大降低交易成本，同时又不影响安全性。整个支付过程不依赖第三方的信任。当然缺点是应用场景仅限于支付。

### RGB / BitVM

RGB 和 BitVM 最近被引入社区，并且由于它们有可能为比特币实现图灵完备的智能合约场景而引起了广泛关注。

这两种解决方案的本质与闪电网络类似，都是希望将交易负载脱链，让所有用户自己验证交易。但 RGB 和 BitVM 不仅仅验证简单的支付交易，还为应用程序提供基于虚拟机的平台来构建更复杂的逻辑，同时确保用户仍然可以验证一系列复杂交易的结果。

随着这些解决方案的实施和成熟，基本上可以支持所有类型的智能合约逻辑，这将给比特币生态系统带来巨大的好处。此外，所有交易的安全性均由客户端验证来保证。除非因改善用户体验的需要而受到损害，否则不需要第三方。

然而，我们仍然可以预见到它们在应用场景中的局限性，因为它们仍然需要所有参与者都在线并不断签署交易以验证链下执行。

### Sidechain / Rollups

在扩展比特币方面，侧链和 Rollups 是最直观的解决方案。作为用户，您可以将您的比特币资产转移到另一个可以实现各种应用场景的平台。

这里的百万美元挑战是如何安全地实现比特币和侧链之间的资产转移。如何以安全和去中心化的方式锁定和解锁比特币的状态。

比特币的 Taproot 升级通过启用签名聚合，可以轻松地使用多个私钥签署交易。许多侧链和 rollup 解决方案都利用此功能建立了一个“委员会”，以帮助用户将资产从比特币转移到自己的链上。

这种解决方案的缺点是用户的资产安全将不可避免地受到损害。一旦用户决定将自己的资产转移到侧链上，他们将无法直接控制自己的资产，他们必须信任锁定资产的委员会以及侧链或者 rollup 本身的安全性。

所以，通过比较我们可以发现，目前还没有完美的解决方案，所有的解决方案都需要在安全性和应用场景之间进行折衷。

## 用链上索引器实现比特币 L2

在 Rooch，我们想提出一种新型解决方案，利用链上索引器来扩展比特币生态系统。

### 如何工作

<Image
  src="/docs/rooch-btc-2.png"
  alt="rooch-btc-2"
  width={500}
  height={500}
  className="mx-auto my-8"
/>

- Rooch 可以灵活地定制到任何基础架构中，在这个用例里，我们将使用以太坊和外部 DA 来保证安全性。
- 在 Rooch 之上，使用智能合约实现了比特币轻客户端，该客户端具有验证比特币区块头的能力。
- 所有比特币区块头和 UTXO 状态都作为 MoveVM 中的对象同步到 Rooch，其中 UTXO 由轻客户端和所有区块头进行索引和交叉验证。
- 然后，索引的比特币 UTXO 信息可以在 Rooch 上构建的全链应用程序的智能合约中使用。

我们还将在 Rooch 上提供合约解释器，以便应用程序轻松访问不同的铭文信息，例如 Ordinals、BRC20、ARC20 等。

需要注意的一点是，所有的 UTXO 都没有锁定在比特币网络上，而只有它们的状态信息同步到 Rooch。也就是说，在这种范式中，没有比特币资产可以从比特币转移到 Rooch。只有最新的比特币 UTXO 状态才会实时同步到 Rooch 并保证正确。

这似乎是扩展比特币的一个奇怪的解决方案，因为该解决方案本身无助于以任何方式改变比特币状态。但事实上，我们可以启用很多有用的应用场景。这里有一个例子。

<Image
  src="/docs/rooch-btc-3.png"
  alt="rooch-btc-3"
  width={700}
  height={700}
  className="mx-auto my-8"
/>

想象一下一个全链的游戏，您可以将您的 Ordis 视为种子。你可以种植它们。你可以给它们浇水。当你照顾好你的 Ordi 并将其种植成农作物后，你就可以赚取一些收益代币。

虽然这是一个非常简单的游戏，但您仍然会发现使用我们上面讨论的所有解决方案来实现它很困难。但借助 Rooch 的链上索引器，您可以轻松构建这样的游戏。

<Image
  src="/docs/rooch-btc-4.png"
  alt="rooch-btc-4"
  width={700}
  height={700}
  className="mx-auto my-8"
/>

- 一旦用户连接到应用程序并提供签名，就会为用户生成 Rooch 帐户。在这个账户中，用户的 Ordi 将可供应用合约读取。
- 有了拥有 Ordi 种子的证明，用户可以调用应用程序合约将其成长为一棵树 NFT，该树将自动归同一帐户所有。
- NFT 可以通过合约获得，以产生利润代币或转移到其他账户。

在这个游戏中，用户的 Ordi 永远不会离开比特币网络，并保存在用户的比特币钱包中。游戏的逻辑完全基于用户对 Ordi 的所有权。如果 Ordi 被转移到另一个帐户，游戏合约可以根据游戏设计决定是否也将衍生资产转移到该帐户。例如，在 Ordi 农场游戏中，Tree NFT 应转移到新账户，因为它应该跟随种子，所有利润代币应保留在旧账户中，因为它们已经从树上收获。

### 与现有解决方案的比较

现在让我们看看如果我们采用其他解决方案来构建相同的应用程序会发生什么：

- 闪电网络 - 不可行。闪电网络不提供用于实现游戏机制的智能合约环境。
- 使用 Offchain VM 的 P2P 协议 - 可行但用户体验不佳。由于游戏本质上是所有 Ordi 持有者之间为了增长自己的资产而进行的竞争，因此所有参与者都需要签署彼此的交易，以承认他们的“种植”和“浇水”行为是有效的。
- 基于多重签名的侧链/Rollup - 完全可行，但需要资产托管。用户必须将其 Ordi 存入第三方托管钱包，该钱包由基于多重签名的 committee 控制，这会导致信任问题。

而如果使用本文提出的基于链上索引器构建的情况下，则可以通过无缝的用户体验实现完整的游戏逻辑，并且在整个游戏生命周期中不需要资产托管。

### 全链游戏和更多应用场景

上面的例子展示了 Rooch 上链上索引器可以实现的应用场景的潜力。这一范式的本质是让应用利用比特币资产的所有权作为锚定，让应用可以自由设计逻辑并从这些锚定资产中派生更通用的代币。

我们相信链上索引器的这一特性使得该解决方案特别适合在比特币生态系统中构建完全链上游戏或自治世界（AW）应用程序，与 DeFi 不同，AW 应用程序通常专注于构建复杂的逻辑设计和执行用户赚取代币，或者以代币所有权作为进入证明，而不是自己操纵代币。

我们还认为更多类型的应用程序是可能的，我们相信游戏只是可以采用这种比特币扩容解决方案的第一个场景。我们很乐意与社区合作，建立一个繁荣的比特币生态系统。

## RoochBTC - Rooch 网络的先行网

Rooch是一个模块化区块链平台，旨在支持全链应用程序，并为它们提供对所有其他区块链链上的资产的访问。

虽然我们还没有准备好推出完整版主网，但考虑到近期的市场需求，我们决定很快推出先行网 **RoochBTC**，希望向社区展示我们一直在做的事情并为大家提供一些实践经验。

RoochBTC 网络将在链上索引完整的比特币主网状态，以及使用比特币资产开发全链应用程序所需的一切。其中包括 SDK、钱包 API、文档和示例。

我们还将发布演示应用程序，供比特币资产持有者试用并体验比特币完全链应用程序的未来。

所以，敬请期待！
