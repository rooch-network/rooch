# L2 至 L1 的信息传递

## 概述

提款在 Rooch 语境中指代一切由 L2 发往 L1 交易。（并不仅局限于资产转移）

Rooch 具备多链资产结算的能力，对于不同角色的 L1 来说，其提款流程略有不同，这取决于是否有仲裁能力（非仲裁链无 L2 root）。但核心步骤均为：

1. 提款初始化交易：由用户向 L2 发起提款请求。
2. 提款证明交易：由用户向 L1 提交提款证明，证明 L2 状态的变更。
3. 提款确认交易：由用户向 L1 提交确认挑战成功，执行最终提款交易。

## 提款初始化交易

1. 用户通过调用 `l2_messenger` 中的 `send_msg` 函发起提款请求，所需参数包括:
    1. `target`: L1 合约地址
    2. `msg`: L1 tx 的 calldata
    3. `min_gas_amount`: L2 上允许使用的最小 gas 数量，即对调用提款初始化交易的估计值。

3. 都是从 L1 的消息开始
经过层层封装传递到 L2 对应的合约之中进行消费。那么，该流程正确执行需要三个前提条件：

在

## 结算链

1. 用户可向 L1 发起仲裁，要求提供 tx 已在 L1 上的证明（但 tx hash 怎么确定为真？，毕竟在 L2 上。再提交一个 L2 交易请求仲裁？表示 L1 没写入 ）
2. 只有收到最后一个确认消息的终结信号，才能从 outbox 中移除。超时时间是 9天，如果9天仍然没有完成（成功or失败），则惩罚 sequencer

### 

## 强制提款

### Sequencer 无响应
1. Force Inclusion

### Sequencer 被冻结
发生在冻结后
2. 5. 若 t3 时间后 Sequencer 仍未收入交易，任意用户可发起冻结仲裁，Sequencer 将被冻结一段时间（t4），在这段时间内 Sequencer 无法向 L1 提交状态更新并被罚没所有押金。
